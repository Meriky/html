<!DOCTYPE html><html class=split lang=en-US-x-hixie><script src=/html/link-fixup.js defer=""></script><meta charset=utf-8><meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name=viewport><title>HTML Standard</title><meta content=#3c790a name=theme-color><link rel=stylesheet href=https://resources.whatwg.org/standard.css><script defer="" src=https://resources.whatwg.org/dfn.js></script><script>
   function toggleStatus(div) {
     div.parentNode.classList.toggle('wrapped');
   }
  </script><link rel=icon href=https://resources.whatwg.org/logo.svg><style>
   [hidden] { display: none; }

   .bad, .bad *:not(.X\58X) { color: gray; border-color: gray; background: transparent; }

   .fingerprint { position: absolute; right: 0; z-index: 5; }
   @media (max-width: 767px) {
     .fingerprint { max-width: 35px; }
   }

   .status { min-height: 0.6em; font: 1em sans-serif; width: 9em; padding: 0.3em; position: absolute; z-index: 8; right: 0.3em; background: #EEE; color: black; box-shadow: 0 0 3px #999; overflow: hidden; margin: -2em 0 0 0; border-collapse: initial; border-spacing: initial; }
   .status:hover { z-index: 9; }
   .status:focus-within { z-index: 9; }
   .status.wrapped > :not(input) { display: none; }
   .status > input { position: absolute; left: 0; top: 0; width: 1em; height: 1em; border: none; background: transparent; padding: 0; margin: 0; }
   .status > p { font-size: 0.6em; margin: 0; padding: 0; }
   .status > p + p { padding-top: 0.5em; }
   .status > p > strong { margin-left: 1.5em; }
   .status > .support { display: block; }
   .status > .support > span { padding: 0.2em 0; display: block; display: table; }
   .status > .support > span.partial { color: #666666; filter: grayscale(50%); }
   .status > .support > span.no { color: #CCCCCC; filter: grayscale(100%); }
   .status > .support > span.no::before { opacity: 0.5; }
   .status > .support > span:first-of-type { padding-top: 0.5em; }
   .status > .support > span > span { padding: 0 0.5em; display: table-cell; vertical-align: top; }
   .status > .support > span > span:first-child { width: 100%; }
   .status > .support > span > span:last-child { width: 100%; white-space: pre; padding: 0; }
   .status > .support > span::before { content: ' '; display: table-cell; min-width: 1.5em; height: 1.5em; background: no-repeat center center; background-size: contain; text-align: right; font-size: 0.75em; font-weight: bold; }
   .status > .support > .and_chr::before { background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg); }
   .status > .support > .and_ff::before { background-image: url(https://resources.whatwg.org/browser-logos/firefox.png); }
   .status > .support > .and_uc::before { background-image: url(https://resources.whatwg.org/browser-logos/uc.png); } /* UC Browser for Android */
   .status > .support > .android::before { background-image: url(https://resources.whatwg.org/browser-logos/android.svg); }
   .status > .support > .bb::before { background-image: url(https://resources.whatwg.org/browser-logos/bb.jpg); } /* Blackberry Browser */
   .status > .support > .chrome::before { background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg); }
   .status > .support > .edge::before { background-image: url(https://resources.whatwg.org/browser-logos/edge.svg); }
   .status > .support > .firefox::before { background-image: url(https://resources.whatwg.org/browser-logos/firefox.png); }
   .status > .support > .ie::before { background-image: url(https://resources.whatwg.org/browser-logos/ie.png); }
   .status > .support > .ie_mob::before { background-image: url(https://resources.whatwg.org/browser-logos/ie-mobile.svg); }
   .status > .support > .ios_saf::before { background-image: url(https://resources.whatwg.org/browser-logos/safari-ios.svg); }
   .status > .support > .op_mini::before { background-image: url(https://resources.whatwg.org/browser-logos/opera-mini.png); }
   .status > .support > .op_mob::before { background-image: url(https://resources.whatwg.org/browser-logos/opera.png); }
   .status > .support > .opera::before { background-image: url(https://resources.whatwg.org/browser-logos/opera.png); }
   .status > .support > .safari::before { background-image: url(https://resources.whatwg.org/browser-logos/safari.png); }
   .status > .support > .samsung::before { background-image: url(https://resources.whatwg.org/browser-logos/samsung.png); }
   .status > .caniuse { text-align: right; font-style: italic; }
   .status > .caniuse + p { margin-top: 0.5em; border-top: 1px solid silver; }

   @media (max-width: 767px) {
     .status { right: -9em; }
   }

   .applies .yes, .yesno .yes { background: yellow; }
   .yesno .yes, .yesno .no { text-align: center; }

   .applies thead th > * { display: block; }
   .applies thead code { display: block; }
   .applies td { text-align: center; }

   .matrix, .matrix td { border: hidden; text-align: right; }
   .matrix { margin-left: 2em; }

   .vertical-summary-table tr > th[rowspan="2"]:first-child + th,
   .vertical-summary-table tr > td[rowspan="2"]:first-child + td { border-bottom: hidden; }

   .dice-example { border-collapse: collapse; border-style: hidden solid solid hidden; border-width: thin; margin-left: 3em; }
   .dice-example caption { width: 30em; font-size: smaller; font-style: italic; padding: 0.75em 0; text-align: left; }
   .dice-example td, .dice-example th { border: solid thin; width: 1.35em; height: 1.05em; text-align: center; padding: 0; }

   td.eg { border-width: thin; text-align: center; }

   #table-example-1 { border: solid thin; border-collapse: collapse; margin-left: 3em; }
   #table-example-1 caption { padding-bottom: 0.5em; }
   #table-example-1 thead, #table-example-1 tbody { border: none; }
   #table-example-1 th, #table-example-1 td { border: solid thin; }
   #table-example-1 th { font-weight: normal; }
   #table-example-1 td { border-style: none solid; vertical-align: top; }
   #table-example-1 th { padding: 0.5em; vertical-align: middle; text-align: center; }
   #table-example-1 tbody tr:first-child td { padding-top: 0.5em; }
   #table-example-1 tbody tr:last-child td { padding-bottom: 1.5em; }
   #table-example-1 tbody td:first-child { padding-left: 2.5em; padding-right: 0; width: 9em; }
   #table-example-1 tbody td:first-child::after { content: leader(". "); }
   #table-example-1 tbody td { padding-left: 2em; padding-right: 2em; }
   #table-example-1 tbody td:first-child + td { width: 10em; }
   #table-example-1 tbody td:first-child + td ~ td { width: 2.5em; }
   #table-example-1 tbody td:first-child + td + td + td ~ td { width: 1.25em; }

   .apple-table-examples { border: none; border-collapse: separate; border-spacing: 1.5em 0em; width: 40em; margin-left: 3em; }
   .apple-table-examples * { font-family: "Times", serif; }
   .apple-table-examples td, .apple-table-examples th { border: none; white-space: nowrap; padding-top: 0; padding-bottom: 0; }
   .apple-table-examples tbody th:first-child { border-left: none; width: 100%; }
   .apple-table-examples thead th:first-child ~ th { font-size: smaller; font-weight: bolder; border-bottom: solid 2px; text-align: center; }
   .apple-table-examples tbody th::after, .apple-table-examples tfoot th::after { content: leader(". ") }
   .apple-table-examples tbody th, .apple-table-examples tfoot th { font: inherit; text-align: left; }
   .apple-table-examples td { text-align: right; vertical-align: top; }
   .apple-table-examples.e1 tbody tr:last-child td { border-bottom: solid 1px; }
   .apple-table-examples.e1 tbody + tbody tr:last-child td { border-bottom: double 3px; }
   .apple-table-examples.e2 th[scope=row] { padding-left: 1em; }
   .apple-table-examples sup { line-height: 0; }

   .three-column-nowrap tr > td:first-child,
   .three-column-nowrap tr > td:first-child + td,
   .three-column-nowrap tr > td:first-child + td + td { white-space: nowrap; }

   .details-example img { vertical-align: top; }

   #base64-table {
     white-space: nowrap;
     font-size: 0.6em;
     column-width: 6em;
     column-count: 5;
     column-gap: 1em;
     -moz-column-width: 6em;
     -moz-column-count: 5;
     -moz-column-gap: 1em;
     -webkit-column-width: 6em;
     -webkit-column-count: 5;
     -webkit-column-gap: 1em;
   }
   #base64-table thead { display: none; }
   #base64-table * { border: none; }
   #base64-table tbody td:first-child:after { content: ':'; }
   #base64-table tbody td:last-child { text-align: right; }

   #named-character-references-table {
     white-space: nowrap;
     font-size: 0.6em;
     column-width: 30em;
     column-gap: 1em;
     -moz-column-width: 30em;
     -moz-column-gap: 1em;
     -webkit-column-width: 30em;
     -webkit-column-gap: 1em;
   }
   #named-character-references-table > table > tbody > tr > td:first-child + td,
   #named-character-references-table > table > tbody > tr > td:last-child { text-align: center; }
   #named-character-references-table > table > tbody > tr > td:last-child:hover > span { position: absolute; top: auto; left: auto; margin-left: 0.5em; line-height: 1.2; font-size: 5em; border: outset; padding: 0.25em 0.5em; background: white; width: 1.25em; height: auto; text-align: center; }
   #named-character-references-table > table > tbody > tr#entity-CounterClockwiseContourIntegral > td:first-child { font-size: 0.5em; }

   .glyph.control { color: red; }

   #table-example-1 * { font-family: "Essays1743", serif; line-height: 1.01em; }
   @font-face {
     font-family: 'Essays1743';
     src: url('/html/fonts/Essays1743.ttf');
   }
   @font-face {
     font-family: 'Essays1743';
     font-weight: bold;
     src: url('/html/fonts/Essays1743-Bold.ttf');
   }
   @font-face {
     font-family: 'Essays1743';
     font-style: italic;
     src: url('/html/fonts/Essays1743-Italic.ttf');
   }
   @font-face {
     font-family: 'Essays1743';
     font-style: italic;
     font-weight: bold;
     src: url('/html/fonts/Essays1743-BoldItalic.ttf');
   }

   @media (max-width: 767px) {
     #abstractimg { width: 100%; }
   }
   #abstractimg, #abstractimg text { font: inherit; }
   #abstractimg rect { fill: #424242; }
   #abstractimg text { fill: #ffffff; font-size: 18px }
   #abstractimg .top { word-spacing: 50px; text-anchor: middle; }
   #abstractimg .left, #abstractimg .bottom { word-spacing: 12px; }
   #abstractimg .right { font-size: 25px; }
  </style>
  <script data-file-issue-url=https://github.com/whatwg/html/issues/new src=https://resources.whatwg.org/file-issue.js async=""></script>
  <header id=head class="head with-buttons">
   <p><a href=https://whatwg.org/ class=logo><img alt=WHATWG src=https://resources.whatwg.org/logo.svg width=100 height=100></a></p>
   <hgroup><h1 class=allcaps>HTML</h1><h2 id=living-standard class="no-num no-toc">Living Standard — Last Updated <span class=pubdate>17 December 2016</span></h2></hgroup>
   
   
  </header>

  

  

  
  

  
  

  

  <nav><a href=index.html>Table of Contents</a> — <a href=infrastructure.html>2 通用基础设施 →</a></nav><ol class=toc><li id=toc-introduction><a href=introduction.html#introduction>1 概述</a><ol><li><a href=introduction.html#abstract>1.1 本标准的适用范围</a><li><a href=introduction.html#is-this-html5?>1.2 这是 HTML5 吗?</a><li><a href=introduction.html#背景>1.3 背景</a><li><a href=introduction.html#受众>1.4 受众</a><li><a href=introduction.html#范围>1.5 范围</a><li><a href=introduction.html#历史>1.6 历史</a><li><a href=introduction.html#设计笔记>1.7 设计笔记</a><ol><li><a href=introduction.html#serialisability-of-script-execution>1.7.1 脚本执行的可串行性</a><li><a href=introduction.html#与其他标准的兼容性>1.7.2 与其他标准的兼容性</a><li><a href=introduction.html#可扩展性>1.7.3 可扩展性</a></ol><li><a href=introduction.html#html-vs-xhtml>1.8 HTML 和 XML 语法</a><li><a href=introduction.html#本标准的结构>1.9 本标准的结构</a><ol><li><a href=introduction.html#how-to-read-this-specification>1.9.1 How to read this specification</a><li><a href=introduction.html#typographic-conventions>1.9.2 Typographic conventions</a></ol><li><a href=introduction.html#fingerprint>1.10 隐私问题</a><ol><li><a href=introduction.html#fingerprint-postMessage>1.10.1 跨站通信</a></ol><li><a href=introduction.html#html-的简单介绍>1.11 HTML 的简单介绍</a><ol><li><a href=introduction.html#使用-html-编写安全应用>1.11.1 使用 HTML 编写安全应用</a><li><a href=introduction.html#使用脚本-api-时常见的陷阱>1.11.2 使用脚本 API 时常见的陷阱</a><li><a href=introduction.html#编写-html-时如何发现错误：验证器和一致性检查器>1.11.3 编写 HTML 时如何发现错误：验证器和一致性检查器</a></ol><li><a href=introduction.html#对页面作者的一致性要求>1.12 对页面作者的一致性要求</a><ol><li><a href=introduction.html#表示性的标记语言>1.12.1 表示性的标记语言</a><li><a href=introduction.html#syntax-errors>1.12.2 Syntax errors</a><li><a href=introduction.html#restrictions-on-content-models-and-on-attribute-values>1.12.3 Restrictions on content models and on attribute values</a></ol><li><a href=introduction.html#推荐阅读>1.13 推荐阅读</a></ol></ol><h2 id=introduction>1 概述<a href=#introduction class=self-link></a></h2><div class=status><input onclick=toggleStatus(this) value=⋰ type=button><p class=bugs><strong>Spec bugs:</strong> <a href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=23036" title="Either drop all mention of mutation events, or specify them in full detail">23036</a></div>

  

  <h3 id=abstract>1.1 本标准的适用范围<a href=#abstract class=self-link></a></h3>

  <p>本标准详细地定义了 Web 平台的很大一部分内容。Web 平台的标准栈中，它相对于其他标准的定位可以总结为：</p>

  <svg id=abstractimg width=398 role=img viewBox="0 0 398 359" height=359 aria-label="It consists of everything else, above such core technologies as HTTP, TLS, MQ, DOM, Unicode, Web IDL, MIME, URL, XML, JavaScript, and Encodings; below presentation-layer technologies like CSS, SVG, MathML, and NPAPI; and to the side of technologies like Geo, Fetch, CSP, JPEG, GIF, and PNG.">
   <rect width=398 height=80></rect>
   <text class=top x=199 y=45>CSS SVG MathML NPAPI</text>
   <rect width=67 y=85 height=177></rect>
   <text transform="translate(25 251) rotate(-90)" class=left>Geo Fetch CSP</text>
   <text transform="translate(50 250) rotate(-90)" class=left>JPEG GIF PNG</text>
   
   <image xlink:href=/html/images/abstract.jpeg width=326 x=72 y=85 height=177></image>
   <text class=right x=130 y=250>THIS SPECIFICATION</text>
   <rect width=398 y=267 height=92></rect>
   <text class=bottom x=15 y=300>HTTP TLS MQ DOM Unicode Web IDL</text>
   <text class=bottom x=18 y=330>MIME URL XML JavaScript Encodings</text>
  </svg>

  


  <h3 id=is-this-html5?>1.2 这是 HTML5 吗?<a href=#is-this-html5? class=self-link></a></h3>

  <p><i>This section is non-normative.</i></p>

  <p>答案是：是的。</p>

  <p>详细地说，广义的 "HTML5" 是指一系列的现代 Web 技术。
  这些技术中很多都由 WHATWG 开发，本文档就是其中之一。
  其他的可以在这里访问：
  <a href=https://whatwg.org/specs/>the WHATWG specification index</a>。</p>

  <p class=note>W3C 也在以独立的文档发布本标准中的部分内容，尽管我们已要求他们停止这样做。</p>


  <h3 id=背景>1.3 背景<a href=#背景 class=self-link></a></h3>

  <p><i>This section is non-normative.</i></p>

  <p>HTML 是万维网的核心标记语言。最初 HTML 主要设计为在语义级别描述科学文档的语言。
  然而它的总体设计使它在接下来的几年中能够适配一些其他类型的文档，甚至包括应用程序。</p>


  <h3 id=受众>1.4 受众<a href=#受众 class=self-link></a></h3>

  <p><i>This section is non-normative.</i></p>

  <p>本标准是为以下读者提供的：使用了本标准定义的特性的文档和脚本的作者，
  用于操作那些使用了本标准定义的特性的页面的工具的实现者，
  希望根据本标准的要求确认文档或实现的正确性的个人。</p>

  <p>本文档对还没有整体熟悉 Web 技术的读者可能不合适,
  因为在有些地方为精确性而省略了具体阐述，为完整性而较为简洁概括。
  易懂的教程和编写指南可以为这个话题提供更加温和的介绍。</p>

  <p>具体地，为了完整地理解本标准中那些更加技术的部分，对 DOM 基础的熟悉是必要的。
  对 Web IDL，HTTP，XML，Unicode，字符编码，JavaScript 和 CSS 的理解在有些地方也有帮助，但并非完全必要。</p>


  <h3 id=范围>1.5 范围<a href=#范围 class=self-link></a></h3>

  <p><i>This section is non-normative.</i></p>

  <p>本标准只限于为编写可访问的 Web 页面（从静态文档到动态应用）
  提供语义级别的标记语言，以及相应的语义级别的脚本 API。</p>

  <p>本标准的范围不包括提供具体媒体的自定义呈现机制（尽管 Web 浏览器的默认渲染规则在本标准末尾有所涵盖，
  一些挂钩到 CSS 的机制也作为语言的一部分加以提供）。</p>

  <p>本标准的范围并非要描述整个操作系统。具体地，硬件配置软件、图像操作工具、
  以及用户在高端工作站日常使用的应用程序都在范围之外。
  对于应用软件，本标准只针对用户偶尔使用的，或定期使用但在不同地点的，
  且 CPU 要求较低的特定应用。这样的应用例如在线购物系统、搜索系统、游戏（尤其是多人在线游戏）、
  公开电话簿或地址簿、通信软件（邮件客户端、即时通信客户端、讨论软件），
  文档编辑软件等。</p>


  <h3 id=历史>1.6 历史<a href=#历史 class=self-link></a></h3>

  <p><i>This section is non-normative.</i></p>

  <p>在最初的5年中（1990-1995），HTML经历了若干次修订和扩展。最初由 CERN 主要托管，随后是 IETF。</p>

  <p>随着 W3C 的诞生，HTML 的开发再次易主。1995 年第一次扩展 HTML 的尝试（HTML 3.0）以失败告终，随后转变为更加务实的 HTML 3.2，在 1997 年完成。
  就在同年很快开始了 HTML4 的开发。</p>

  <p>随后一年 W3C 成员决定停止 HTML 的演变，并开始开发基于 XML 的替代品 XHTML。  该
  工作首先将 HTML4 重新规划为 XML，也就是著名的 XHTML 1.0。
  唯一增加的特性就是新的序列化，该工作在 2000 年完成。
  XHTML 1.0 之后，在 XHTML 模块化的口号下 W3C 的主要精力转向让其他工作组更容易地扩展 XHTML。
  与此同时，W3C 致力于一门新的、与此前的 HTML 和 XHTML 都不兼容的语言：XHTML2。</p>

  <p>大概在 1998 年 HTML 停止演化的时候，浏览器厂商开发的部分 HTML API 被标准化和发布在 DOM Level 1（1998）
  和 DOM Level 2 Core，以及 DOM Level 2 HTML（2000年开始2003年完成）中。
  在 2004 年发布了一些 DOM Level 3 标准，但是 Level 3 草案尚未全部完成工作组就关闭了。
  这些工作也最终不了了之。</p>

  <p>2003 年 XForms （一项定位于下一代 Web 表单的技术）的发布
  重新激起了对 HTML 演化的兴趣，而不是像从前那样寻求新的替代品。
  这时人们发现 XML 作为 Web 技术的部署只局限于全新的技术（比如 RSS 和后来的 Atom），
  而不是取代已经部署的技术（比如 HTML）。</p>

  <p>概念验证显示，在不要求浏览器实现与现存 HTML Web 页面不兼容的渲染引擎的情况下，
  也可能扩展 HTML4 的表单来提供 XForms 1.0 引入的很多特性。
  这一概念验证是对 HTML 重新燃起的兴趣产生的第一项成果。
  在这早期阶段，虽然本草案已经公开可用且已广泛征求建议，该标准只在 Opera Software 版权下发布。</p>

  <p>应该重新开启 HTML 演化的想法在 W3C 工作组得到了测试。
  Mozilla 和 Opera 共同向 W3C 工作组提交了提议，包括
  HTML5 工作背后的一些原则（见下文），以及前述的只涉及表单特性的早期草案。
  该提议因为与此前选择的 Web 演化方向冲突而被拒绝，
  W3C 职员和会员投票支持继续开发基于 XML 的替代品。</p>

  <p>此后 Apple，Mozilla 和 Opera 共同声明他们将继续在 WHATWG（一个新的组织）团体下投入工作。
  他们为此创建了一个公开的邮件列表，草案也移交到了 WHATWG 网站。随后版权也修改为这三家共同拥有，
  同时允许该标准的重用。</p>

  <p>WHATWG 基于若干核心原则，具体地：技术需要向后兼容，标准和实现需要相符（即使这意味着更改标准而不是实现），
  标准需要足够详细来使得一个实现在不需对其他实现进行逆向工程的情况下，就能可达到完全的互操作性。</p>

  <p>其中后一个原则，要求 HTML5 标准的范围应包括先前在 HTML4，XHTML1，和 DOM2 HTML
  这三篇独立的文档中标准化的内容。
  同时意味着相比于此前的考虑，需要显著地引入更多的细节。</p>

  <p>2006 年，W3C 暗示了参与 HTML5 开发的兴趣，并于 2007 年组建了工作组来与 WHATWG 共同开发 HTML5 标准。
  Apple，Mozilla，和 Opera 允许 W3C 在 W3C 版权下发布该标准，
  只要保留一版 WHATWG 网站的那份较少限制的许可协议。</p>

  <p>数年中各方一同工作，然而在 2011 年，这些工作组最终发现他们有着不同的目标：
  W3C 希望发布一个"完成的" HTML5 版本，而 WHATWG 希望持续地维护一个 HTML Living Standard，
  持续地维护该标准而不是锁定在一个带着已知问题的状态，
  同时按照需求增加新的特性来发展整个平台。</p>

  <p>从此 WHATWG 一直在（与其他组织一同）开发该标准，
  W3C 则复制 WHATWG 的修复工作到他们所在的文档分支（也有其他的一些改动）。</p>



  <h3 id=设计笔记>1.7 设计笔记<a href=#设计笔记 class=self-link></a></h3>

  <p><i>This section is non-normative.</i></p>

  <p>必须承认 HTML 的很多方面乍一看毫无意义或者不太一致。</p>

  <p>HTML，它的 DOM API，以及很多其他的支持技术是由互不相识的有着不同目的的人，经数十年开发完成。</p>

  <p>因此特性的出现有着不同的来源，也未经专门的一致的方式设计。
  而且由于 Web 独有的特点，实现的 Bug 常常会变成事实上的惯例，以及现在合法的、标准的行为。
  因为编写的内容常常会无意地依赖于这些未能及时修复的实现。</p>

  <p>尽管这样，人们还是为坚持某些设计目标而付出努力。在接下来的几个小节中描述了这些努力。</p>


  

  <h4 id=serialisability-of-script-execution>1.7.1 脚本执行的可串行性<a href=#serialisability-of-script-execution class=self-link></a></h4>

  <p><i>This section is non-normative.</i></p>

  <p>为了避免让 Web 作者处理多线程的复杂性，HTML 和 DOM API 的设计使得脚本无法检测同时运行的其他脚本。
  甚至在使用 <a href=workers.html#worker id=serialisability-of-script-execution:worker>workers</a> 时，设计意图中实现的行为可以被认为是
  在所有 <a href=browsers.html#browsing-context id=serialisability-of-script-execution:browsing-context>浏览上下文</a> 中串行地执行所有脚本。</p>

  



  <h4 id=与其他标准的兼容性>1.7.2 与其他标准的兼容性<a href=#与其他标准的兼容性 class=self-link></a></h4>

  <p><i>This section is non-normative.</i></p>

  <p>本标准和多种多样的其他有相互影响和依赖。很不幸在某些情况下，相互冲突的需求使得本标准违反了其他标准的要求。
  当这种情况发生时，每一项冲突都会标记为 "<dfn id=willful-violation>willful violation</dfn>"，而且会说明该冲突的原因。</p>



  <h4 id=可扩展性>1.7.3 可扩展性<a href=#可扩展性 class=self-link></a></h4>

  <p><i>This section is non-normative.</i></p>

  <p>HTML 有广泛的可扩展性机制，可用来安全地添加语义：</p>

  <ul><li><p>作者可以使用 <code id=可扩展性:classes><a href=dom.html#classes>class</a></code> 属性来扩展元素，
   在使用最接近的 "真实" HTML 元素的同时，也等效于创建了他们自己的元素，
   因此不知道该扩展的浏览器和其他工具仍然可以在某种程度上很好地支持。
   比如微格式就是使用的这种策略。<li><p>作者可以使用<code id=可扩展性:attr-data-*><a href=dom.html#attr-data-*>data-*=""</a></code>属性来包含数据，
   在客户端脚本或服务器端的站点脚本中加以处理。可以保证浏览器永远不会碰这些数据，
   使得脚本可以在 HTML 元素中引入数据，并在后续脚本中寻找或者处理。<li><p>通过<code id=可扩展性:the-meta-element><a href=semantics.html#the-meta-element>&lt;meta name="" content=""></a></code> 机制，
   作者可以为<a href=semantics.html#concept-meta-extensions id=可扩展性:concept-meta-extensions>预定义的元数据名称的集合注册扩展</a>
   来引入页面级别的元数据。<li><p>通过<code id=可扩展性:attr-hyperlink-rel><a href=semantics.html#attr-hyperlink-rel>rel=""</a></code> 机制，
   作者可以通过<a href=semantics.html#concept-rel-extensions id=可扩展性:concept-rel-extensions>为预定义的链接类型注册扩展</a>，
   来给链接标注特定的含义。微格式也使用了这种机制。<li><p>作者可以使用 <code id=可扩展性:the-script-element><a href=scripting.html#the-script-element>&lt;script type=""></a></code> 来内嵌自定义类型的原始数据，
   用于在内联脚本或服务器端脚本中做进一步处理。<li><p>使用<code id=可扩展性:the-embed-element><a href=embedded-content.html#the-embed-element>embed</a></code>元素，作者可以创建 <a href=infrastructure.html#plugin id=可扩展性:plugin>插件</a> 和调用他们。
   这就是 Flash 的工作原理。<li><p>作者可以使用 JavaScript 原型机制来扩展 API。这在脚本库中有广泛的使用。<li><p>作者可以使用微数据特性（<code id=可扩展性:attr-itemscope><a href=microdata.html#attr-itemscope>itemscope=""</a></code> 和 <code id=可扩展性:names:-the-itemprop-attribute><a href=microdata.html#names:-the-itemprop-attribute>itemprop=""</a></code>属性）
   来嵌入嵌套的键值对数据，以供其他应用和站点共享。</ul>




  <h3 id=html-vs-xhtml>1.8 HTML 和 XML 语法<a href=#html-vs-xhtml class=self-link></a></h3>

  <p><i>This section is non-normative.</i></p>

  <p>本标准定义了一个描述文档和应用的抽象语言，以及一些 API 来与使用该语言的资源的内存表示进行交互。</p>

  <p>这一内存表示又称为 "DOM HTML"，或简称为 "DOM"。</p>

  <p>对于传输使用了该抽象语言的资源，有很多不同的具体语法。本标准中定义了其中两种。</p>

  <p>第一个这样的具体语法是 HTML 语法。这是对多数作者推荐的格式，它与多数遗留的 Web 浏览器相兼容。
  如果一个文档以<code id=html-vs-xhtml:text/html><a href=iana.html#text/html>text/html</a></code> <a id=html-vs-xhtml:mime-type href=https://mimesniff.spec.whatwg.org/#mime-type data-x-internal=mime-type>MIME type</a>进行传输，
  然后它将会被 Web 浏览器作为 HTML 文档处理。
  本标准定义了最新的 HTML 语法，简单地称为 "HTML"。</p>

  <p>第二个具体的语法是 XML。当一篇文档以<a id=html-vs-xhtml:xml-mime-type href=https://mimesniff.spec.whatwg.org/#xml-mime-type data-x-internal=xml-mime-type>XML MIME type</a>（比如<code id=html-vs-xhtml:application/xhtml+xml><a href=iana.html#application/xhtml+xml>application/xhtml+xml</a></code>）
  传输时，它将会被 Web 浏览器当做 XML 文档处理，被 XML 处理器解析。
  作者需要注意 XML 和 HTML 的处理存在差别；具体地，即使很小的语法错误都将阻止 XML 文档的完整渲染，
  然而它们在 HTML 语法中将会被忽略。</p>

  <p class=note>给 HTML 用的 XML 语法此前被称为 "XHTML"，但本标准不适用该术语
  （原因之一是 MathML 和 SVG 的 HTML 语法中未使用该术语）。</p>

  <p>DOM，HTML 语法，XML 语法不能用来表示同样的内容。
  例如 HTML 语法不能表示命名空间，但 DOM 和 XML 语法却支持。
  类似地，HTML 语法可以表示使用 <code id=html-vs-xhtml:the-noscript-element><a href=scripting.html#the-noscript-element>noscript</a></code> 特性的文档，
  但 DOM 和 XML 语法却不能。
  包含 "<code>--></code>" 的注释只能在 DOM 中表示，HTML 和 XML 语法却不行。</p>


  <h3 id=本标准的结构>1.9 本标准的结构<a href=#本标准的结构 class=self-link></a></h3>

  <p><i>This section is non-normative.</i></p>

  <p>本标准分为以下主要的部分：</p>

  <dl><dt><a href=#introduction>概述</a><dd>为 HTML 标准提供上下文的非规范性材料。<dt><a href=infrastructure.html#infrastructure>通用基础设施</a><dd>合规的类、算法、定义、标准其余部分的通用基础。<dt><a href=dom.html#dom>HTML 文档的语义，结构，与 API</a><dd>文档由元素构成，这些元素使用 DOM 组成一棵树。
   这部分定义了该 DOM 的特性，介绍了所有元素共同的特性，以及在定义元素时用到的概念。<dt><a href=semantics.html#semantics>HTML 元素</a><dd>每个元素都有一个预定义的含义，本章便解释了这些含义。
   也给出了作者使用这些元素的规则，以及用户代理处理这些元素的要求。
   这里包含了大量的 HTML 独有的特性，例如视频播放和副标题，表单控件和表单提交，
   以及名为 HTML canvas 的 2D 图形 API。<dt><a href=microdata.html#microdata>微数据</a><dd>本标准介绍了为文档增加机器可读注解的机制，这样工具可以从文档中抽取键值对的树。
   这部分文档描述了该机制  和用于将 HTML 文档转换为其他格式的一些算法。
   这部分还为联系信息、日历事件和许可协议定义了一些示例的微数据词汇。<dt><a href=interaction.html#editing>用户交互</a><dd>HTML 文档可以提供一些用户与内容交互以及用户修改内容的机制，在本章中给出了这些机制的描述。
   比如焦点的工作机制、以及拖放操作。<dt><a href=browsers.html#browsers>加载 Web 页面</a><dd>HTML 文档不是空中楼阁 — 这部分定义了很多影响处理多页面环境的特性，比如 Web 浏览器和 Web 应用的离线缓存。<dt><a href=webappapis.html#webappapis>Web 应用 API</a><dd>这部分介绍了 HTML 应用脚本的基本特性。<dt><a href=workers.html#workers>Web workers</a><dd>这部分定义了 JavaScript 后台线程的 API。<dt><a href=comms.html#comms>通信 API</a><dd>这部分描述了 HTML 编写的应用可用来与同一客户端中的，不同域名的其他应用通信的一些机制。
   也介绍了一个服务器推送事件流机制，称为 Server Sent Events 或 <code id=本标准的结构:eventsource><a href=comms.html#eventsource>EventSource</a></code>，
   以及一个未脚本提供的双向全双工套接字协议，称为 Web Sockets。

   <dt><a href=webstorage.html#webstorage>Web storage</a><dd>这部分定义了一个基于键值对的客户端存储机制。<dt><a href=syntax.html#syntax>HTML 语法</a><dt><a href=xhtml.html#xhtml>XML 语法</a><dd>只有表示为序列化的形式并发送给其他人，所有的这些特性才会有意义。
   所以这两部分定义了 HTML 和 XML 的语法 ，以及如何使用这些语法来解析内容的规则。<dt><a href=rendering.html#rendering>渲染</a><dd>这部分定义了 Web 浏览器默认的渲染规则。</dl>

  <p>还有一些附录，列出了 <a href=obsolete.html#obsolete>废弃的特性</a> 和 <a href=iana.html#iana>IANA 考虑</a>，以及一些索引。</p>


  

  <h4 id=how-to-read-this-specification>1.9.1 How to read this specification<a href=#how-to-read-this-specification class=self-link></a></h4>

  <p>This specification should be read like all other specifications. First, it should be read
  cover-to-cover, multiple times. Then, it should be read backwards at least once. Then it should be
  read by picking random sections from the contents list and following all the cross-references.</p>

  <p>As described in the conformance requirements section below, this specification describes
  conformance criteria for a variety of conformance classes. In particular, there are conformance
  requirements that apply to <em>producers</em>, for example authors and the documents they create,
  and there are conformance requirements that apply to <em>consumers</em>, for example Web browsers.
  They can be distinguished by what they are requiring: a requirement on a producer states what is
  allowed, while a requirement on a consumer states how software is to act.</p>

  <div class=example>

   <p>For example, "the <code>foo</code> attribute's value must be a <a id=how-to-read-this-specification:valid-integer href=infrastructure.html#valid-integer>valid
   integer</a>" is a requirement on producers, as it lays out the allowed values; in contrast,
   the requirement "the <code>foo</code> attribute's value must be parsed using the
   <a id=how-to-read-this-specification:rules-for-parsing-integers href=infrastructure.html#rules-for-parsing-integers>rules for parsing integers</a>" is a requirement on consumers, as it describes how to
   process the content.</p>

  </div>

  <p><strong>Requirements on producers have no bearing whatsoever on consumers.</strong></p>

  <div class=example>

   <p>Continuing the above example, a requirement stating that a particular attribute's value is
   constrained to being a <a id=how-to-read-this-specification:valid-integer-2 href=infrastructure.html#valid-integer>valid integer</a> emphatically does <em>not</em> imply anything
   about the requirements on consumers. It might be that the consumers are in fact required to treat
   the attribute as an opaque string, completely unaffected by whether the value conforms to the
   requirements or not. It might be (as in the previous example) that the consumers are required to
   parse the value using specific rules that define how invalid (non-numeric in this case) values
   are to be processed.</p>

  </div>

  



  <h4 id=typographic-conventions>1.9.2 Typographic conventions<a href=#typographic-conventions class=self-link></a></h4>

  <p>This is a definition, requirement, or explanation.</p>

  <p class=note>This is a note.</p>

  <p class=example>This is an example.</p>

  <p class=XXX>This is an open issue.</p>

  <p class=warning>This is a warning.</p>

  <pre class="idl extract">interface <dfn>Example</dfn> {
  // this is an IDL definition
};</pre>

  <dl class=domintro><dt><var>variable</var> = <var>object</var> . <code id=typographic-conventions:x-that><a href=#x-that>method</a></code>( [ <var>optionalArgument</var> ] )<dd>

    <p>This is a note to authors describing the usage of an interface.</p>

   </dl>

  <pre class=css>/* this is a CSS fragment */</pre>

  <p>The defining instance of a term is marked up like <dfn id=x-this>this</dfn>. Uses of that
  term are marked up like <a href=#x-this id=typographic-conventions:x-this>this</a> or like <i id=typographic-conventions:x-this-2><a href=#x-this>this</a></i>.</p>

  <p>The defining instance of an element, attribute, or API is marked up like <dfn id=x-that><code>this</code></dfn>. References to that element, attribute, or API are marked up
  like <code id=typographic-conventions:x-that-2><a href=#x-that>this</a></code>.</p>

  <p>Other code fragments are marked up <code>like this</code>.</p>

  <p>Variables are marked up like <var>this</var>.</p>

  <p>In an algorithm, steps in <a href=webappapis.html#synchronous-section id=typographic-conventions:synchronous-section>synchronous
  sections</a> are marked with ⌛.</p>

  <p>In some cases, requirements are given in the form of lists with conditions and corresponding
  requirements. In such cases, the requirements that apply to a condition are always the first set
  of requirements that follow the condition, even in the case of there being multiple sets of
  conditions for those requirements. Such cases are presented as follows:</p>

  <dl class=switch><dt>This is a condition
   <dt>This is another condition
   <dd>This is the requirement that applies to the conditions above.

   <dt>This is a third condition
   <dd>This is the requirement that applies to the third condition.

  </dl>



  <h3 id=fingerprint>1.10 隐私问题<a href=#fingerprint class=self-link></a></h3>

  <p><i>This section is non-normative.</i></p>

  <p>一些 HTML 特性牺牲了用户方便来获得一定的用户隐私。</p>

  <p>通常地，由于互联网的架构，用户之间可以通过 IP 地址来加以区分。
  但 IP 地址不能完美地匹配用户，当用户换用了不同的设备，或切换了网络时，他们的 IP 地址将会变化。
  类似地，NAT 路由、代理服务器、共享计算机使得看起来都来自同一 IP 地址的网络包事实上来自不同用户。
  洋葱路由等技术可以用来进一步匿名化请求，
  使得来自同一互联网节点的同一用户的请求看起来来自联网的很多不同部分。</p>

  <p>然而，用户请求使用的 IP 地址并非将用户请求关联到每个用户的唯一的机制。
  比如 Cookie 就是专门为此设计的，也是大多数 Web 会话特性的基础。
  这使得你可以使用账号来登录一个网站。</p>

  <p>还有一些更加细微的机制。用户系统的某些特征也可以用来区分用户群体。
  通过收集足够的信息，可以计算出一个单独用户的浏览器的 "数字指纹"。
  在确定哪些请求来自同一用户的问题上，该方法不差于 IP 地址。</p>

  <p>这样对请求进行分组（尤其是跨站点）可以用于正当的用途，也可以用于恶意的用户。
  一个合理的正当用途的例子可能是：基于访问频次来确定一个用户喜欢有狗作为插图的网站还是有猫作为插图的网站，
  然后在访问这些网站时，自动地使用他所偏好的插图。
  然而恶意的用途包括：政府将用户的家庭住址（通过他从网站获取导航信息时使用的地址确定）
  与他的政治偏好（通过检查他参加的论坛网站确定）相关联，来决定是否应该阻止他在选举中投票。</p>

  <p>因为恶意的用途可能会非常邪恶，鼓励用户代理的实现者考虑为他们的用户提供工具，
  来最小化泄漏可能被用于识别用户的信息。</p>

  <p>不幸的是（正如本章第一段所暗示的），有时暴露特定的信息（该信息也可能被用来识别用户）可获得非常多好处，
  所以并直接非阻止所有可能的泄漏那么简单。
  比如，用户登录一个网站并在特定的认证下发布内容要求该用户的请求可以被识别为都来自同一用户，
  这差不多也就是登录的定义。更细微地，像文本宽度这样的信息对于很多涉及到绘制文本到画布的效果
  （例如：任何涉及在文本周围绘制边框的效果）都是必须的，这也会泄漏可以用来对用户请求分组的信息。
  这种情况下可能暴露了用户装有哪些字体（通过暴力搜索），用户间这一信息的差别可能会相当大。</p>

  <p>本标准中可能被用来 <dfn id=fingerprinting-vector>识别用户</dfn> 的特性都有像本段一样的标记。
  <a href=#fingerprinting-vector id=fingerprint:fingerprinting-vector class=fingerprint title="There is a potential fingerprinting vector here."><img alt="(This is a fingerprinting vector.)" src=/html/images/fingerprint.png width=46 height=64></a>
  </p>

  <p>平台中其他可能被用于相同用途的特性包括但不限于：</p>

  <ul><li>用户代理支持的特性列表。<li>脚本递归栈允许的最大深度。<li>描述用户环境的特性，比如媒体查询和 <code id=fingerprint:screen><a data-x-internal=screen href=https://drafts.csswg.org/cssom-view/#the-screen-interface>Screen</a></code> 对象。 <a href=references.html#refsMQ>[MQ]</a> <a href=references.html#refsCSSOMVIEW>[CSSOMVIEW]</a><li>用户的时区。</ul>


  <h4 id=fingerprint-postMessage>1.10.1 跨站通信<a href=#fingerprint-postMessage class=self-link></a></h4>

  <p><code id=fingerprint-postMessage:dom-window-postmessage><a href=comms.html#dom-window-postmessage>postMessage()</a></code> API 提供了两个网站直接通信的机制。
  乍一看这可能为上述问题的产生提供了新的方式。然而在实践中，网站间通信的很多机制已先于该 API 而存在：
  网站嵌套另一个网站可通过<code id=fingerprint-postMessage:the-iframe-element><a href=embedded-content.html#the-iframe-element>iframe</a></code>来发送数据；网站可以使用带有服务器可识别标志的跨站图片请求，
  来发起服务器端的数据交换；还有上述提到的指纹技术可以在网站间唯一地识别访客，然后便可以在服务器端交换信息。</p>

  <p>根本来讲，如果用户不信任某个网站会尊重他们的信息，就应该避免访问那个网站。</p>




  <h3 id=html-的简单介绍>1.11 HTML 的简单介绍<a href=#html-的简单介绍 class=self-link></a></h3>

  <p><i>This section is non-normative.</i></p>

  <p>一个基本的 HTML 文档看起来像这样：</p>

  <pre id=intro-early-example>&lt;!DOCTYPE html>
&lt;html lang="en">
 &lt;head>
  &lt;title>Sample page&lt;/title>
 &lt;/head>
 &lt;body>
  &lt;h1>Sample page&lt;/h1>
  &lt;p>This is a &lt;a href="demo.html">simple&lt;/a> sample.&lt;/p>
  &lt;!-- this is a comment -->
 &lt;/body>
&lt;/html></pre>

  <p>HTML 文档由树状的元素和文本组成。源码中每个元素由
  一个 <a href=syntax.html#syntax-start-tag id=html-的简单介绍:syntax-start-tag>开始标签</a>（例如 "<code>&lt;body></code>"）
  和一个 <a href=syntax.html#syntax-end-tag id=html-的简单介绍:syntax-end-tag>结束标签</a>（例如 "<code>&lt;/body></code>"）表示。
  （某些开始标签和结束标签在某些情况下可以 <a href=syntax.html#syntax-tag-omission id=html-的简单介绍:syntax-tag-omission>省略</a>。）</p>

  <p>标签的嵌套必须使所有标签都完全在其他标签内部，不应出现重叠：</p>

  <pre class=bad>&lt;p>This is &lt;em>very &lt;strong>wrong&lt;/em>!&lt;/strong>&lt;/p></pre>
  <pre>&lt;p>This &lt;em>is &lt;strong>correct&lt;/strong>.&lt;/em>&lt;/p></pre>

  <p>本标准定义了 HTML 中使用的一些元素，以及它们的嵌套规则。</p>

  <p>元素可以有属性来控制元素的行为。在下面的例子中是一个 <a href=semantics.html#hyperlink id=html-的简单介绍:hyperlink>超链接</a>，
  由一个<code id=html-的简单介绍:the-a-element><a href=semantics.html#the-a-element>a</a></code>元素和它的 <code id=html-的简单介绍:attr-hyperlink-href><a href=semantics.html#attr-hyperlink-href>href</a></code> 属性组成：</p>

  <pre>&lt;a href="demo.html">simple&lt;/a></pre>

  <p><a href=syntax.html#syntax-attributes id=html-的简单介绍:syntax-attributes>属性</a> 应放置在开始标签中，由
  <a href=syntax.html#syntax-attribute-name id=html-的简单介绍:syntax-attribute-name>属性名</a> 和 <a href=syntax.html#syntax-attribute-value id=html-的简单介绍:syntax-attribute-value>属性值</a>构成，
  以 "<code>=</code>" 分隔。
  如果不包含<a href=infrastructure.html#space-character id=html-的简单介绍:space-character>空格</a><code>"</code> <code>'</code> <code>`</code> <code>=</code> <code>&lt;</code> 或
  <code>></code>， 属性值可以保持 <a href=syntax.html#unquoted>没有引号</a> ；
  否则必须使用单引号或双引号。
  如果属性值是空字符串，属性值以及 "<code>=</code>" 可以一起省略。</p>

  <pre>&lt;!-- empty attributes -->
&lt;input name=address disabled>
&lt;input name=address disabled="">

&lt;!-- attributes with a value -->
&lt;input name=address maxlength=200>
&lt;input name=address maxlength='200'>
&lt;input name=address maxlength="200"></pre>

  <p>HTML 用户代理（比如 Web 浏览器）<i>解析</i>这些标记，把它转化为 DOM（Document Object Model）树。
  DOM 树是文档在内存中的表示。</p>

  <p>DOM 数包含若干种节点，具体地：<code id=html-的简单介绍:documenttype><a data-x-internal=documenttype href=https://dom.spec.whatwg.org/#interface-documenttype>DocumentType</a></code> 节点、
  <code id=html-的简单介绍:element><a data-x-internal=element href=https://dom.spec.whatwg.org/#interface-element>Element</a></code>节点、<code id=html-的简单介绍:text><a data-x-internal=text href=https://dom.spec.whatwg.org/#interface-text>Text</a></code> 节点、<code id=html-的简单介绍:comment-2><a data-x-internal=comment-2 href=https://dom.spec.whatwg.org/#interface-comment>Comment</a></code> 节点，
  以及有时会出现的 <code id=html-的简单介绍:processinginstruction><a data-x-internal=processinginstruction href=https://dom.spec.whatwg.org/#interface-processinginstruction>ProcessingInstruction</a></code> 节点。</p>

  <p><a href=#intro-early-example>本章顶部的代码片段</a>将会转化为下列 DOM 树：</p>

  <ul class=domTree><li class=t10>DOCTYPE: <code>html</code><li class=t1><code id=html-的简单介绍:the-html-element><a href=semantics.html#the-html-element>html</a></code> <span class=t2><code id=html-的简单介绍:attr-lang class="attribute name"><a href=dom.html#attr-lang>lang</a></code>="<code class="attribute value">en</code>"</span><ul><li class=t1><code id=html-的简单介绍:the-head-element><a href=semantics.html#the-head-element>head</a></code><ul><li class=t3><code id=html-的简单介绍:text-2><a data-x-internal=text href=https://dom.spec.whatwg.org/#interface-text>#text</a></code>: <span>⏎␣␣</span><li class=t1><code id=html-的简单介绍:the-title-element><a href=semantics.html#the-title-element>title</a></code><ul><li class=t3><code id=html-的简单介绍:text-3><a data-x-internal=text href=https://dom.spec.whatwg.org/#interface-text>#text</a></code>: <span>Sample page</span></ul><li class=t3><code id=html-的简单介绍:text-4><a data-x-internal=text href=https://dom.spec.whatwg.org/#interface-text>#text</a></code>: <span>⏎␣</span></ul><li class=t3><code id=html-的简单介绍:text-5><a data-x-internal=text href=https://dom.spec.whatwg.org/#interface-text>#text</a></code>: <span>⏎␣</span><li class=t1><code id=html-的简单介绍:the-body-element><a href=semantics.html#the-body-element>body</a></code><ul><li class=t3><code id=html-的简单介绍:text-6><a data-x-internal=text href=https://dom.spec.whatwg.org/#interface-text>#text</a></code>: <span>⏎␣␣</span><li class=t1><code id=html-的简单介绍:the-h1,-h2,-h3,-h4,-h5,-and-h6-elements><a href=semantics.html#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements>h1</a></code><ul><li class=t3><code id=html-的简单介绍:text-7><a data-x-internal=text href=https://dom.spec.whatwg.org/#interface-text>#text</a></code>: <span>Sample page</span></ul><li class=t3><code id=html-的简单介绍:text-8><a data-x-internal=text href=https://dom.spec.whatwg.org/#interface-text>#text</a></code>: <span>⏎␣␣</span><li class=t1><code id=html-的简单介绍:the-p-element><a href=semantics.html#the-p-element>p</a></code><ul><li class=t3><code id=html-的简单介绍:text-9><a data-x-internal=text href=https://dom.spec.whatwg.org/#interface-text>#text</a></code>: <span>This is a </span><li class=t1><code id=html-的简单介绍:the-a-element-2><a href=semantics.html#the-a-element>a</a></code> <span class=t2><code id=html-的简单介绍:attr-hyperlink-href-2 class="attribute name"><a href=semantics.html#attr-hyperlink-href>href</a></code>="<code class="attribute value">demo.html</code>"</span><ul><li class=t3><code id=html-的简单介绍:text-10><a data-x-internal=text href=https://dom.spec.whatwg.org/#interface-text>#text</a></code>: <span>simple</span></ul><li class=t3><code id=html-的简单介绍:text-11><a data-x-internal=text href=https://dom.spec.whatwg.org/#interface-text>#text</a></code>: <span> sample.</span></ul><li class=t3><code id=html-的简单介绍:text-12><a data-x-internal=text href=https://dom.spec.whatwg.org/#interface-text>#text</a></code>: <span>⏎␣␣</span><li class=t8><code id=html-的简单介绍:comment-2-2><a data-x-internal=comment-2 href=https://dom.spec.whatwg.org/#interface-comment>#comment</a></code>: <span> this is a comment </span><li class=t3><code id=html-的简单介绍:text-13><a data-x-internal=text href=https://dom.spec.whatwg.org/#interface-text>#text</a></code>: <span>⏎␣⏎</span></ul></ul></ul>

  <p>树中的<a href=https://dom.spec.whatwg.org/#document-element id=html-的简单介绍:document-element data-x-internal=document-element>document 元素</a> 是 <code id=html-的简单介绍:the-html-element-2><a href=semantics.html#the-html-element>html</a></code> 元素，
  在 HTML 文档的这一位置总是应该有这样一个元素。它包含两个元素，
  <code id=html-的简单介绍:the-head-element-2><a href=semantics.html#the-head-element>head</a></code> 和 <code id=html-的简单介绍:the-body-element-2><a href=semantics.html#the-body-element>body</a></code>，以及它们之间的一个 <code id=html-的简单介绍:text-14><a data-x-internal=text href=https://dom.spec.whatwg.org/#interface-text>Text</a></code> 节点。</p>

  <p>DOM 树中的 <code id=html-的简单介绍:text-15><a data-x-internal=text href=https://dom.spec.whatwg.org/#interface-text>Text</a></code> 节点比你预想的要多，因为源码包含一些空格（表示为"␣"）和换行（"⏎"），
  这些都会变成 DOM 中的 <code id=html-的简单介绍:text-16><a data-x-internal=text href=https://dom.spec.whatwg.org/#interface-text>Text</a></code> 节点。然而因为历史原因，并非所有这些源码中的空格和换行都出现在 DOM 中。
  具体地，所有<code id=html-的简单介绍:the-head-element-3><a href=semantics.html#the-head-element>head</a></code>开始标签前的空白都会被悄悄地丢掉，所有<code id=html-的简单介绍:the-body-element-3><a href=semantics.html#the-body-element>body</a></code>结束标签后的空白都会出现在<code id=html-的简单介绍:the-body-element-4><a href=semantics.html#the-body-element>body</a></code>的尾部。</p>

  <p><code id=html-的简单介绍:the-head-element-4><a href=semantics.html#the-head-element>head</a></code> 元素包含一个 <code id=html-的简单介绍:the-title-element-2><a href=semantics.html#the-title-element>title</a></code> 元素，其中包含一个
  内容为 "Sample page" 的 <code id=html-的简单介绍:text-17><a data-x-internal=text href=https://dom.spec.whatwg.org/#interface-text>Text</a></code> 节点。类似地，<code id=html-的简单介绍:the-body-element-5><a href=semantics.html#the-body-element>body</a></code> 元素包含一个
  <code id=html-的简单介绍:the-h1,-h2,-h3,-h4,-h5,-and-h6-elements-2><a href=semantics.html#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements>h1</a></code> 元素，一个<code id=html-的简单介绍:the-p-element-2><a href=semantics.html#the-p-element>p</a></code> 元素，和一个注释。</p>

  <hr>

  <p>页面中的脚本可以操作该 DOM 树。脚本（比如 JavaScript）是可以使用
  <code id=html-的简单介绍:the-script-element><a href=scripting.html#the-script-element>script</a></code>标签或 <a href=webappapis.html#event-handler-content-attributes id=html-的简单介绍:event-handler-content-attributes>事件处理内容属性</a>内嵌的小程序。
  比如下面是一个表单，其中的脚本设置了表单中<code id=html-的简单介绍:the-output-element><a href=forms.html#the-output-element>output</a></code>元素的内容并输出 "Hello World"：</p>

  <pre>&lt;<a id=html-的简单介绍:the-form-element href=forms.html#the-form-element>form</a> <a href=forms.html#attr-form-name id=html-的简单介绍:attr-form-name>name</a>="main">
 Result: &lt;<a id=html-的简单介绍:the-output-element-2 href=forms.html#the-output-element>output</a> <a href=forms.html#attr-fe-name id=html-的简单介绍:attr-fe-name>name</a>="result">&lt;/output>
 &lt;<a id=html-的简单介绍:the-script-element-2 href=scripting.html#the-script-element>script</a>>
  <a href=dom.html#document id=html-的简单介绍:document>document</a>.<a href=dom.html#dom-document-forms id=html-的简单介绍:dom-document-forms>forms</a>.main.<a href=forms.html#dom-form-elements id=html-的简单介绍:dom-form-elements>elements</a>.result.<a href=forms.html#dom-output-value id=html-的简单介绍:dom-output-value>value</a> = 'Hello World';
 &lt;/script>
&lt;/form></pre>

  <p>DOM 树中的每个元素表示为一个对象，这些对象提供 API 以供操作。
  例如，一个链接（比如上述树中的<code id=html-的简单介绍:the-a-element-3><a href=semantics.html#the-a-element>a</a></code>元素）的
  "<code id=html-的简单介绍:attr-hyperlink-href-3><a href=semantics.html#attr-hyperlink-href>href</a></code>"属性可以通过多种方式改变：</p>

  <pre>var a = <a href=dom.html#document id=html-的简单介绍:document-2>document</a>.<a href=dom.html#dom-document-links id=html-的简单介绍:dom-document-links>links</a>[0]; // obtain the first link in the document
a.<a href=semantics.html#dom-hyperlink-href id=html-的简单介绍:dom-hyperlink-href>href</a> = 'sample.html'; // change the destination URL of the link
a.<a href=semantics.html#dom-hyperlink-protocol id=html-的简单介绍:dom-hyperlink-protocol>protocol</a> = 'https'; // change just the scheme part of the URL
a.setAttribute('href', 'https://example.com/'); // change the content attribute directly</pre>

  <p>由于 DOM 树是实现者（尤其是像 Web 浏览器这样的交互式实现）用来处理和显示 HTML 文档的，
  本标准更多地是按照 DOM 树来介绍的，而不是按照上面描述的标记代码。</p>

  <hr>

  <p>HTML 文档表示了交互式内容的一种媒体无关的描述。HTML 文档可能会渲染在屏幕、语音合成器、或者盲文点触设备。
  为了精确地控制渲染行为，作者可以使用一个像 CSS 这样的样式语言。</p>

  <p>在下列例子中，使用 CSS 将页面设置为蓝底白字。</p>

  <pre>&lt;!DOCTYPE html>
&lt;html lang="en">
 &lt;head>
  &lt;title>Sample styled page&lt;/title>
  &lt;style>
   body { background: navy; color: yellow; }
  &lt;/style>
 &lt;/head>
 &lt;body>
  &lt;h1>Sample styled page&lt;/h1>
  &lt;p>This page is just a demo.&lt;/p>
 &lt;/body>
&lt;/html></pre>

  <p>关于更多 HTML 的使用细节，鼓励作者参考教程和指南。
  本标准中的一些示例可能也有用，但新手作者需要注意本标准必须非常详细地定义该语言，
  以至于一开始可能很难理解。</p>




  <h4 id=使用-html-编写安全应用>1.11.1 使用 HTML 编写安全应用<a href=#使用-html-编写安全应用 class=self-link></a></h4>

  <p><i>This section is non-normative.</i></p>

  <p>当使用 HTML 创建交互式网站时，需要注意避免引入漏洞，使得攻击者通过这些漏洞危害网站本身或网站用户信息的完整性。</p>

  <p>对这一问题的全面研究超出了本文档的范围，我们强烈建议网站作者去更详细地研究这一问题。
  即便如此，本节尝试对 HTML 应用程序开发中的一些常见陷阱作简单介绍。</p>

  <p>Web 的安全模型基于“域”的概念，因此 Web 上许多潜在的攻击涉及跨域操作。<a href=references.html#refsORIGIN>[ORIGIN]</a></p>

  <dl><dt>不验证用户输入<dt>跨站脚本（XSS）<dt>SQL 注入<dd>

    <p>当接受不可信输入时（例如文本评论这样的用户生成内容，URL 参数中的值，来自第三方网站的消息等），
    必须在使用前验证数据，并在显示时正确转义。 否则就会允许恶意的用户执行各种攻击，
    这些攻击可能是轻微的，例如提供诸如负的年龄这样的假的用户信息；
    也可能是严重的，例如在每次用户查看包含该信息的页面时执行脚本；
    也可能是传播性的攻击导致灾难性后果，比如删除服务器中的所有数据。</p>

    <p>当编写过滤器验证用户输入时，过滤器应当是基于白名单的，允许已知的安全构造并禁止所有其他输入。
    基于黑名单的过滤器（禁止已知的错误输入并允许其他所有输入）是不安全的，
    因为并不是所有错误输入都是已知的（因为它可能会在未来发明）。</p>

    <div class=example>

     <p>例如，一个页面查看它的 URL 查询字符串来决定显示的内容，
     然后网站将用户重定向到显示该消息的页面。比如：</p>

     <pre>&lt;ul>
 &lt;li>&lt;a href="message.cgi?say=Hello">Say Hello&lt;/a>
 &lt;li>&lt;a href="message.cgi?say=Welcome">Say Welcome&lt;/a>
 &lt;li>&lt;a href="message.cgi?say=Kittens">Say Kittens&lt;/a>
&lt;/ul></pre>

     <p>如果这一消息没有转义就显示给用户，恶意的攻击者可能会构造一个包含脚本元素的 URL：</p>

     <pre>https://example.com/message.cgi?say=%3Cscript%3Ealert%28%27Oh%20no%21%27%29%3C/script%3E</pre>

     <p>如果攻击者随后说服受害者访问此页面，攻击者选择的脚本将在页面上运行。
     这样的脚本可以执行任意的恶意操作，只要是站点提供的。
     例如站点是电子商务商店，这样的脚本可以导致在用户不知情的情况下进行任意的购买。</p>

     <p>这称为跨站脚本攻击。</p>

    </div>

    <p>有很多构造可以欺骗网站执行代码。以下是网站作者在编写白名单过滤器时应考虑的事项：</p>

    <ul><li>当允许像<code id=使用-html-编写安全应用:the-img-element><a href=embedded-content.html#the-img-element>img</a></code>这样看起来无害的元素时，重要的是同时为所有提供的属性给出白名单。
     比如，如果一个元素允许所有属性，攻击者可能会使用<code id=使用-html-编写安全应用:handler-onload><a href=webappapis.html#handler-onload>onload</a></code>属性来运行任意脚本。<li>当允许提供 URL 时（比如 link），每一个 URL 的 scheme 也需要显式地给出白名单。
     因为有很多 scheme 都可能会被滥用。最著名的例子是：“<code id=使用-html-编写安全应用:javascript-protocol><a href=browsers.html#javascript-protocol>javascript:</a></code>”，
     用户代理也可能会实现其他的一些scheme，由于历史原因确实已经实现了不少。<li>允许插入 <code id=使用-html-编写安全应用:the-base-element><a href=semantics.html#the-base-element>base</a></code> 元素意味着页面中的任何相对链接的 <code id=使用-html-编写安全应用:the-script-element><a href=scripting.html#the-script-element>script</a></code> 元素都可能被劫持，
     类似地任何表单提交也可能重定向到恶意站点。</ul>

   <dt>跨站请求伪造 (CSRF)<dd>

    <p>如果网站允许用户提交的表单产生用户相关的影响，例如使用名字在论坛上发布消息，
    进行购买或申请护照，那么很有必要核实该请求确实是用户有意发起的，
    而不是由另一个站点欺骗用户不知情地发起请求。</p>

    <p>该问题的存在是因为 HTML 表单可能被提交到其他域名。</p>

    <p>站点可以通过为表单填充用户相关的隐藏标记或检查所有请求的`<code id=使用-html-编写安全应用:http-origin><a data-x-internal=http-origin href=https://fetch.spec.whatwg.org/#http-origin>Origin</a></code>`头字段，
    来防止这样的攻击。</p>

   <dt>Clickjacking<dd>

    <p>如果页面为用户提供的界面中包含用户可能不希望执行的操作时，
    该页面应当经过特殊设计来避免用户被欺骗以激活该界面的可能性。</p>

    <p>一种用户被欺骗的可能是，如果恶意站点将受害站点放在一个小的 <code id=使用-html-编写安全应用:the-iframe-element><a href=embedded-content.html#the-iframe-element>iframe</a></code> 中然后让用户去点击，
    例如让用户玩一个反应类游戏。一旦用户开始玩这个游戏，恶意站点可以在用户正要点击时快速地将这个 iframe 放到鼠标光标下。
    以此来欺骗用户点击受害站点的界面。</p>

    <p>为了避免这种情况，鼓励不期望在 iframe 下使用的站点只有检测（例如通过比较<code id=使用-html-编写安全应用:dom-window><a href=browsers.html#dom-window>window</a></code>对象和<code id=使用-html-编写安全应用:dom-top><a href=browsers.html#dom-top>top</a></code>属性的值）
    到它们不在 iframe 下时才激活它们的界面。</p>

   </dl>



  <h4 id=使用脚本-api-时常见的陷阱>1.11.2 使用脚本 API 时常见的陷阱<a href=#使用脚本-api-时常见的陷阱 class=self-link></a></h4>

  <p><i>This section is non-normative.</i></p>

  <p>HTML 中的脚本有着"运行到完成"的语义，这意味着浏览器通常在执行任何其他操作
  （诸如触发进一步的事件或继续解析文档）之前会不中断地执行脚本。</p>

  <p>另一方面，HTML 文件的解析是逐步发生的，这意味着解析器可以在任何地方暂停来让脚本运行。
  这通常是一件好事，但确实意味着作者需要小心地避免在事件可能已经触发之后才绑定事件处理程序。</p>

  <p>有两项技术能够可靠地完成这件事情：使用
  <a href=webappapis.html#event-handler-content-attributes id=使用脚本-api-时常见的陷阱:event-handler-content-attributes>事件处理程序内容属性</a>，
  或者在同一脚本中创建元素和添加事件处理程序。后一种更为安全，因为如前所述，
  脚本会在进一步的事件发生前一直运行到完成。</p>

  <div class=example>

   <p>一个可以表示此种情形的例子是<code id=使用脚本-api-时常见的陷阱:the-img-element><a href=embedded-content.html#the-img-element>img</a></code>元素和<code id=使用脚本-api-时常见的陷阱:event-load><a href=indices.html#event-load>load</a></code>事件。
   该事件在元素解析完成时就会触发，特别是当图片已经被缓存之后（这很常见）。</p>

   <p>这里，作者在<code id=使用脚本-api-时常见的陷阱:the-img-element-2><a href=embedded-content.html#the-img-element>img</a></code>标签上使用 <code id=使用脚本-api-时常见的陷阱:handler-onload><a href=webappapis.html#handler-onload>onload</a></code> 事件处理程序
   来捕捉 <code id=使用脚本-api-时常见的陷阱:event-load-2><a href=indices.html#event-load>load</a></code> 事件：</p>

   <pre>&lt;img src="games.png" alt="Games" onload="gamesLogoHasLoaded(event)"></pre>

   <p>如果使用脚本添加元素，那么只要在同一脚本中添加事件处理函数，该事件就不会被错过：</p>

   <pre>&lt;script>
 var img = new Image();
 img.src = 'games.png';
 img.alt = 'Games';
 img.onload = gamesLogoHasLoaded;
 // img.addEventListener('load', gamesLogoHasLoaded, false); // would work also
&lt;/script></pre>

   <p>然而如果作者首先创建了<code id=使用脚本-api-时常见的陷阱:the-img-element-3><a href=embedded-content.html#the-img-element>img</a></code>元素，然后在另一个单独的脚本中添加了事件监听器，
   那么有可能<code id=使用脚本-api-时常见的陷阱:event-load-3><a href=indices.html#event-load>load</a></code>事件会在两者之间触发，导致它被错过：</p>

   <pre class=bad>&lt;!-- Do not use this style, it has a race condition! -->
 &lt;img id="games" src="games.png" alt="Games">
 &lt;!-- the 'load' event might fire here while the parser is taking a
      break, in which case you will not see it! -->
 &lt;script>
  var img = document.getElementById('games');
  img.onload = gamesLogoHasLoaded; // might never fire!
 &lt;/script></pre>

  </div>



  <h4 id=编写-html-时如何发现错误：验证器和一致性检查器>1.11.3 编写 HTML 时如何发现错误：验证器和一致性检查器<a href=#编写-html-时如何发现错误：验证器和一致性检查器 class=self-link></a></h4>

  <p><i>This section is non-normative.</i></p>

  <p>鼓励作者使用一致性检查器（又称<i>验证器</i>）来发现常见的错误。
  WHATWG 维护着这种工具的一个列表：<a href=https://validator.whatwg.org/>https://validator.whatwg.org/</a></p>



  <h3 id=对页面作者的一致性要求>1.12 对页面作者的一致性要求<a href=#对页面作者的一致性要求 class=self-link></a></h3>

  <p><i>This section is non-normative.</i></p>

  <p>与以前版本的 HTML 规范不同，此规范不仅定义了对有效文档的处理，
  也详细定义了对无效文档的处理过程。</p> 

  <p>然而，即使无效内容的处理在大多数情况下是良好定义的，文档的一致性仍然很重要：
  在实践中，互操作性（所有实现以可靠和相同或等同的方式处理特定内容的情况）并不是文档一致性要求的唯一目标。
  本节详细地介绍了合法文档和错误文档仍然有所区别的一些常见原因。</p>


  <h4 id=表示性的标记语言>1.12.1 表示性的标记语言<a href=#表示性的标记语言 class=self-link></a></h4>

  <p><i>This section is non-normative.</i></p>

  <p>先前 HTML 版本的大多数表示性特性不再被允许。一般来说，表示性的标记有这样一些问题：</p>

  <dl><dt>表示性元素的使用导致较差的可访问性<dd>

    <p>尽管使用显示性的标记也可以为使用辅助技术（Assistive Technologies，AT）的用户
    提供可接受的体验（比如使用 ARIA），但这样做显然比使用适当的语义标记更加困难。
    此外，即使使用这样的技术也不能帮助那些既没有 AT 又没有图形的用户（比如使用文本模式浏览器的用户）访问页面。</p>

    <p>另一方面，使用媒体无关的标记为编写更多用户（比如文本浏览器）可用的文档提供了简单的方式。</p>

   <dt>更高的维护成本<dd>

    <p>使用样式无关的标记编写的站点，显然更容易维护。比如，对于到处都在使用 <code>&lt;font color=""></code> 的站点，更改颜色需要更改整个站点，
    然而对基于 CSS 的站点做类似的改动，只需更改一个文件。</p>

   <dt>更大的文档大小<dd>

    <p>表示性标记往往会增加冗余，因此导致更大的文档大小。</p>

   </dl>

  <p>出于这些原因，在本版本的 HTML 中移除了表示性的标记。
  这一改动并不突然，HTML4 在很多年前就已经不推荐使用表示性标记，
  并提供了一种模式（HTML4 Transitional） 来帮助作者从表示性标记进行迁移；
  后来 XHTML 1.1 更进一步地一起废弃了那些特性。</p>

  <p>HTML 中唯一保留下来的表示性标记特性是 <code id=表示性的标记语言:the-style-attribute><a href=dom.html#the-style-attribute>style</a></code> 属性和 <code id=表示性的标记语言:the-style-element><a href=semantics.html#the-style-element>style</a></code> 元素。
  生产环境中使用 <code id=表示性的标记语言:the-style-attribute-2><a href=dom.html#the-style-attribute>style</a></code> 属性也在某种程度上不再推荐，
  但在创建原型（这些规则之后可以直接移动到单独的样式表中）
  以及在特殊情况下（当单独的样式表不方便时）提供特定样式很有用。
  类似地，<code id=表示性的标记语言:the-style-element-2><a href=semantics.html#the-style-element>style</a></code> 元素在引入外部样式内容或者提供页面特定样式时很有用。
  但一般来说，当样式适用于多个页面时，外部样式表可能更加方便。</p>

  <p>值得注意的是有些先前的表示性元素在本标准中已经被重新定义为媒体无关的：
  <code id=表示性的标记语言:the-b-element><a href=semantics.html#the-b-element>b</a></code>, <code id=表示性的标记语言:the-i-element><a href=semantics.html#the-i-element>i</a></code>,
  <code id=表示性的标记语言:the-hr-element><a href=semantics.html#the-hr-element>hr</a></code>, <code id=表示性的标记语言:the-s-element><a href=semantics.html#the-s-element>s</a></code>, <code id=表示性的标记语言:the-small-element><a href=semantics.html#the-small-element>small</a></code>, and <code id=表示性的标记语言:the-u-element><a href=semantics.html#the-u-element>u</a></code>.</p>


  <h4 id=syntax-errors>1.12.2 Syntax errors<a href=#syntax-errors class=self-link></a></h4>

  <p><i>This section is non-normative.</i></p>

  <p>The syntax of HTML is constrained to avoid a wide variety of problems.</p>

  <dl><dt>Unintuitive error-handling behavior<dd>

    <p>Certain invalid syntax constructs, when parsed, result in DOM trees that are highly
    unintuitive.</p>

    <div class=example>

     <p>For example, the following markup fragment results in a DOM with an <code id=syntax-errors:the-hr-element><a href=semantics.html#the-hr-element>hr</a></code> element
     that is an <em>earlier</em> sibling of the corresponding <code id=syntax-errors:the-table-element><a href=tables.html#the-table-element>table</a></code> element:</p>

     <pre class=bad>&lt;table>&lt;hr>...</pre>

    </div>

   <dt>Errors with optional error recovery<dd>

    <p>To allow user agents to be used in controlled environments without having to implement the
    more bizarre and convoluted error handling rules, user agents are permitted to fail whenever
    encountering a <a id=syntax-errors:parse-error href=syntax.html#parse-error>parse error</a>.</p>

   <dt>Errors where the error-handling behavior is not compatible with streaming user agents<dd>

    <p>Some error-handling behavior, such as the behavior for the <code>&lt;table>&lt;hr>...</code> example mentioned above, are incompatible with streaming
    user agents (user agents that process HTML files in one pass, without storing state). To avoid
    interoperability problems with such user agents, any syntax resulting in such behavior is
    considered invalid.</p>

   <dt>Errors that can result in infoset coercion<dd>

    <p>When a user agent based on XML is connected to an HTML parser, it is possible that certain
    invariants that XML enforces, such as element or attribute names never contain multiple colons,
    will be violated by an HTML file. Handling this can require that the parser coerce the HTML DOM
    into an XML-compatible infoset. Most syntax constructs that require such handling are considered
    invalid. (Comments containing two consecutive hyphens, or ending with a hyphen, are exceptions
    that are allowed in the HTML syntax.)</p>

   <dt>Errors that result in disproportionately poor performance<dd>

    <p>Certain syntax constructs can result in disproportionately poor performance. To discourage the
    use of such constructs, they are typically made non-conforming.</p>

    <div class=example>

     <p>For example, the following markup results in poor performance, since all the unclosed
     <code id=syntax-errors:the-i-element><a href=semantics.html#the-i-element>i</a></code> elements have to be reconstructed in each paragraph, resulting in progressively
     more elements in each paragraph:</p>

     <pre class=bad>&lt;p>&lt;i>She dreamt.
&lt;p>&lt;i>She dreamt that she ate breakfast.
&lt;p>&lt;i>Then lunch.
&lt;p>&lt;i>And finally dinner.</pre>

     <p>The resulting DOM for this fragment would be:</p>

     <ul class=domTree><li class=t1><code id=syntax-errors:the-p-element><a href=semantics.html#the-p-element>p</a></code><ul><li class=t1><code id=syntax-errors:the-i-element-2><a href=semantics.html#the-i-element>i</a></code><ul><li class=t3><code id=syntax-errors:text><a data-x-internal=text href=https://dom.spec.whatwg.org/#interface-text>#text</a></code>: <span>She dreamt.</span></ul></ul><li class=t1><code id=syntax-errors:the-p-element-2><a href=semantics.html#the-p-element>p</a></code><ul><li class=t1><code id=syntax-errors:the-i-element-3><a href=semantics.html#the-i-element>i</a></code><ul><li class=t1><code id=syntax-errors:the-i-element-4><a href=semantics.html#the-i-element>i</a></code><ul><li class=t3><code id=syntax-errors:text-2><a data-x-internal=text href=https://dom.spec.whatwg.org/#interface-text>#text</a></code>: <span>She dreamt that she ate breakfast.</span></ul></ul></ul><li class=t1><code id=syntax-errors:the-p-element-3><a href=semantics.html#the-p-element>p</a></code><ul><li class=t1><code id=syntax-errors:the-i-element-5><a href=semantics.html#the-i-element>i</a></code><ul><li class=t1><code id=syntax-errors:the-i-element-6><a href=semantics.html#the-i-element>i</a></code><ul><li class=t1><code id=syntax-errors:the-i-element-7><a href=semantics.html#the-i-element>i</a></code><ul><li class=t3><code id=syntax-errors:text-3><a data-x-internal=text href=https://dom.spec.whatwg.org/#interface-text>#text</a></code>: <span>Then lunch.</span></ul></ul></ul></ul><li class=t1><code id=syntax-errors:the-p-element-4><a href=semantics.html#the-p-element>p</a></code><ul><li class=t1><code id=syntax-errors:the-i-element-8><a href=semantics.html#the-i-element>i</a></code><ul><li class=t1><code id=syntax-errors:the-i-element-9><a href=semantics.html#the-i-element>i</a></code><ul><li class=t1><code id=syntax-errors:the-i-element-10><a href=semantics.html#the-i-element>i</a></code><ul><li class=t1><code id=syntax-errors:the-i-element-11><a href=semantics.html#the-i-element>i</a></code><ul><li class=t3><code id=syntax-errors:text-4><a data-x-internal=text href=https://dom.spec.whatwg.org/#interface-text>#text</a></code>: <span>And finally dinner.</span></ul></ul></ul></ul></ul></ul>

    </div>

   <dt>Errors involving fragile syntax constructs<dd>

    <p>There are syntax constructs that, for historical reasons, are relatively fragile. To help
    reduce the number of users who accidentally run into such problems, they are made
    non-conforming.</p>

    <div class=example>

     <p>For example, the parsing of certain named character references in attributes happens even
     with the closing semicolon being omitted. It is safe to include an ampersand followed by
     letters that do not form a named character reference, but if the letters are changed to a
     string that <em>does</em> form a named character reference, they will be interpreted as that
     character instead.</p>

     <p>In this fragment, the attribute's value is "<code>?bill&amp;ted</code>":</p>

     <pre class=bad>&lt;a href="?bill&amp;ted">Bill and Ted&lt;/a></pre>

     <p>In the following fragment, however, the attribute's value is actually "<code>?art©</code>", <em>not</em> the intended "<code>?art&amp;copy</code>",
     because even without the final semicolon, "<code>&amp;copy</code>" is handled the same
     as "<code>&amp;copy;</code>" and thus gets interpreted as "<code>©</code>":</p>

     <pre class=bad>&lt;a href="?art&amp;copy">Art and Copy&lt;/a></pre>

     <p>To avoid this problem, all named character references are required to end with a semicolon,
     and uses of named character references without a semicolon are flagged as errors.</p>

     <p>Thus, the correct way to express the above cases is as
     follows:</p>

     <pre>&lt;a href="?bill&amp;ted">Bill and Ted&lt;/a> &lt;!-- &amp;ted is ok, since it's not a named character reference --></pre>
     <pre>&lt;a href="?art&amp;amp;copy">Art and Copy&lt;/a> &lt;!-- the &amp; has to be escaped, since &amp;copy <em>is</em> a named character reference --></pre>

    </div>

   <dt>Errors involving known interoperability problems in legacy user agents<dd>

    <p>Certain syntax constructs are known to cause especially subtle or serious problems in legacy
    user agents, and are therefore marked as non-conforming to help authors avoid them.</p>

    <div class=example>

     <p>For example, this is why the U+0060 GRAVE ACCENT character (`) is not allowed in unquoted
     attributes. In certain legacy user agents,  it is sometimes treated as a
     quote character.</p>

    </div>

    <div class=example>

     <p>Another example of this is the DOCTYPE, which is required to trigger <a id=syntax-errors:no-quirks-mode href=https://dom.spec.whatwg.org/#concept-document-no-quirks data-x-internal=no-quirks-mode>no-quirks
     mode</a>, because the behavior of legacy user agents in <a id=syntax-errors:quirks-mode href=https://dom.spec.whatwg.org/#concept-document-quirks data-x-internal=quirks-mode>quirks mode</a> is often
     largely undocumented.</p>

    </div>

   <dt>Errors that risk exposing authors to security attacks<dd>

    <p>Certain restrictions exist purely to avoid known security problems.</p>

    <div class=example>

     <p>For example, the restriction on using UTF-7 exists purely to avoid authors falling prey to a
     known cross-site-scripting attack using UTF-7. <a href=references.html#refsUTF7>[UTF7]</a></p>

    </div>

   <dt>Cases where the author's intent is unclear<dd>

    <p>Markup where the author's intent is very unclear is often made non-conforming. Correcting
    these errors early makes later maintenance easier.</p>

    <div class=example>

     <p>For example, it is unclear whether the author intended the following to be an
     <code id=syntax-errors:the-h1,-h2,-h3,-h4,-h5,-and-h6-elements><a href=semantics.html#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements>h1</a></code> heading or an <code id=syntax-errors:the-h1,-h2,-h3,-h4,-h5,-and-h6-elements-2><a href=semantics.html#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements>h2</a></code> heading:</p>

     <pre class=bad>&lt;h1>Contact details&lt;/h2></pre>

    </div>

   <dt>Cases that are likely to be typos<dd>

    <p>When a user makes a simple typo, it is helpful if the error can be caught early, as this can
    save the author a lot of debugging time. This specification therefore usually considers it an
    error to use element names, attribute names, and so forth, that do not match the names defined
    in this specification.</p>

    <div class=example>

     <p>For example, if the author typed <code>&lt;capton></code> instead of <code>&lt;caption></code>, this would be flagged as an error and the author could correct
     the typo immediately.</p>

    </div>

   <dt>Errors that could interfere with new syntax in the future<dd>

    <p>In order to allow the language syntax to be extended in the future, certain otherwise
    harmless features are disallowed.</p>

    <div class=example>

     <p>For example, "attributes" in end tags are ignored currently, but they are invalid, in case a
     future change to the language makes use of that syntax feature without conflicting with
     already-deployed (and valid!) content.</p>

    </div>

   </dl>

  <p>Some authors find it helpful to be in the practice of always quoting all attributes and always
  including all optional tags, preferring the consistency derived from such custom over the minor
  benefits of terseness afforded by making use of the flexibility of the HTML syntax. To aid such
  authors, conformance checkers can provide modes of operation wherein such conventions are
  enforced.</p>



  <h4 id=restrictions-on-content-models-and-on-attribute-values>1.12.3 Restrictions on content models and on attribute values<a href=#restrictions-on-content-models-and-on-attribute-values class=self-link></a></h4>

  <p><i>This section is non-normative.</i></p>

  <p>Beyond the syntax of the language, this specification also places restrictions on how elements
  and attributes can be specified. These restrictions are present for similar reasons:</p>

  <dl><dt>Errors involving content with dubious semantics<dd>

    <p>To avoid misuse of elements with defined meanings, content models are defined that restrict
    how elements can be nested when such nestings would be of dubious value.</p>

    <p class=example>For example, this specification disallows nesting a <code id=restrictions-on-content-models-and-on-attribute-values:the-section-element><a href=semantics.html#the-section-element>section</a></code>
    element inside a <code id=restrictions-on-content-models-and-on-attribute-values:the-kbd-element><a href=semantics.html#the-kbd-element>kbd</a></code> element, since it is highly unlikely for an author to indicate
    that an entire section should be keyed in.</p>

   <dt>Errors that involve a conflict in expressed semantics<dd>

    <p>Similarly, to draw the author's attention to mistakes in the use of elements, clear
    contradictions in the semantics expressed are also considered conformance errors.</p>

    <div class=example>

     <p>In the fragments below, for example, the semantics are nonsensical: a separator cannot
     simultaneously be a cell, nor can a radio button be a progress bar.</p>

     <pre class=bad>&lt;hr role="cell"></pre>
     <pre class=bad>&lt;input type=radio role=progressbar></pre>

    </div>

    <p class=example>Another example is the restrictions on the content models of the
    <code id=restrictions-on-content-models-and-on-attribute-values:the-ul-element><a href=semantics.html#the-ul-element>ul</a></code> element, which only allows <code id=restrictions-on-content-models-and-on-attribute-values:the-li-element><a href=semantics.html#the-li-element>li</a></code> element children. Lists by definition
    consist just of zero or more list items, so if a <code id=restrictions-on-content-models-and-on-attribute-values:the-ul-element-2><a href=semantics.html#the-ul-element>ul</a></code> element contains something
    other than an <code id=restrictions-on-content-models-and-on-attribute-values:the-li-element-2><a href=semantics.html#the-li-element>li</a></code> element, it's not clear what was meant.</p>

   <dt>Cases where the default styles are likely to lead to confusion<dd>

    <p>Certain elements have default styles or behaviors that make certain combinations likely to
    lead to confusion. Where these have equivalent alternatives without this problem, the confusing
    combinations are disallowed.</p>

    <p class=example>For example, <code id=restrictions-on-content-models-and-on-attribute-values:the-div-element><a href=semantics.html#the-div-element>div</a></code> elements are rendered as <a href=https://drafts.csswg.org/css2/visuren.html#x9 id=restrictions-on-content-models-and-on-attribute-values:block-box data-x-internal=block-box>block boxes</a>, and <code id=restrictions-on-content-models-and-on-attribute-values:the-span-element><a href=semantics.html#the-span-element>span</a></code> elements as <a href=https://drafts.csswg.org/css2/visuren.html#inline-box id=restrictions-on-content-models-and-on-attribute-values:inline-box data-x-internal=inline-box>inline boxes</a>. Putting a <a id=restrictions-on-content-models-and-on-attribute-values:block-box-2 href=https://drafts.csswg.org/css2/visuren.html#x9 data-x-internal=block-box>block box</a> in an
    <a id=restrictions-on-content-models-and-on-attribute-values:inline-box-2 href=https://drafts.csswg.org/css2/visuren.html#inline-box data-x-internal=inline-box>inline box</a> is unnecessarily confusing; since either nesting just <code id=restrictions-on-content-models-and-on-attribute-values:the-div-element-2><a href=semantics.html#the-div-element>div</a></code>
    elements, or nesting just <code id=restrictions-on-content-models-and-on-attribute-values:the-span-element-2><a href=semantics.html#the-span-element>span</a></code> elements, or nesting <code id=restrictions-on-content-models-and-on-attribute-values:the-span-element-3><a href=semantics.html#the-span-element>span</a></code> elements
    inside <code id=restrictions-on-content-models-and-on-attribute-values:the-div-element-3><a href=semantics.html#the-div-element>div</a></code> elements all serve the same purpose as nesting a <code id=restrictions-on-content-models-and-on-attribute-values:the-div-element-4><a href=semantics.html#the-div-element>div</a></code>
    element in a <code id=restrictions-on-content-models-and-on-attribute-values:the-span-element-4><a href=semantics.html#the-span-element>span</a></code> element, but only the latter involves a <a id=restrictions-on-content-models-and-on-attribute-values:block-box-3 href=https://drafts.csswg.org/css2/visuren.html#x9 data-x-internal=block-box>block box</a> in
    an <a id=restrictions-on-content-models-and-on-attribute-values:inline-box-3 href=https://drafts.csswg.org/css2/visuren.html#inline-box data-x-internal=inline-box>inline box</a>, the latter combination is disallowed.</p>

    <p class=example>Another example would be the way <a id=restrictions-on-content-models-and-on-attribute-values:interactive-content-2 href=dom.html#interactive-content-2>interactive content</a> cannot be
    nested. For example, a <code id=restrictions-on-content-models-and-on-attribute-values:the-button-element><a href=forms.html#the-button-element>button</a></code> element cannot contain a <code id=restrictions-on-content-models-and-on-attribute-values:the-textarea-element><a href=forms.html#the-textarea-element>textarea</a></code>
    element. This is because the default behavior of such nesting interactive elements would be
    highly confusing to users. Instead of nesting these elements, they can be placed side by
    side.</p>

   <dt>Errors that indicate a likely misunderstanding of the specification<dd>

    <p>Sometimes, something is disallowed because allowing it would likely cause author
    confusion.</p>

    <p class=example>For example, setting the <code id=restrictions-on-content-models-and-on-attribute-values:attr-fe-disabled><a href=forms.html#attr-fe-disabled>disabled</a></code>
    attribute to the value "<code>false</code>" is disallowed, because despite the
    appearance of meaning that the element is enabled, it in fact means that the element is
    <em>disabled</em> (what matters for implementations is the presence of the attribute, not its
    value).</p>

   <dt>Errors involving limits that have been imposed merely to simplify the language<dd>

    <p>Some conformance errors simplify the language that authors need to learn.</p>

    <p class=example>For example, the <code id=restrictions-on-content-models-and-on-attribute-values:the-area-element><a href=embedded-content.html#the-area-element>area</a></code> element's <code id=restrictions-on-content-models-and-on-attribute-values:attr-area-shape><a href=embedded-content.html#attr-area-shape>shape</a></code> attribute, despite accepting both <code id=restrictions-on-content-models-and-on-attribute-values:attr-area-shape-keyword-circ><a href=embedded-content.html#attr-area-shape-keyword-circ>circ</a></code> and <code id=restrictions-on-content-models-and-on-attribute-values:attr-area-shape-keyword-circle><a href=embedded-content.html#attr-area-shape-keyword-circle>circle</a></code> values in practice as synonyms, disallows
    the use of the <code id=restrictions-on-content-models-and-on-attribute-values:attr-area-shape-keyword-circ-2><a href=embedded-content.html#attr-area-shape-keyword-circ>circ</a></code> value, so as to simplify
    tutorials and other learning aids. There would be no benefit to allowing both, but it would
    cause extra confusion when teaching the language.</p>

   <dt>Errors that involve peculiarities of the parser<dd>

    <p>Certain elements are parsed in somewhat eccentric ways (typically for historical reasons),
    and their content model restrictions are intended to avoid exposing the author to these
    issues.</p>

    <div class=example>

     <p>For example, a <code id=restrictions-on-content-models-and-on-attribute-values:the-form-element><a href=forms.html#the-form-element>form</a></code> element isn't allowed inside <a id=restrictions-on-content-models-and-on-attribute-values:phrasing-content-2 href=dom.html#phrasing-content-2>phrasing content</a>,
     because when parsed as HTML, a <code id=restrictions-on-content-models-and-on-attribute-values:the-form-element-2><a href=forms.html#the-form-element>form</a></code> element's start tag will imply a
     <code id=restrictions-on-content-models-and-on-attribute-values:the-p-element><a href=semantics.html#the-p-element>p</a></code> element's end tag. Thus, the following markup results in two <a href=dom.html#paragraph id=restrictions-on-content-models-and-on-attribute-values:paragraph>paragraphs</a>, not one:</p>

     <pre>&lt;p>Welcome. &lt;form>&lt;label>Name:&lt;/label> &lt;input>&lt;/form></pre>

     <p>It is parsed exactly like the following:</p>

     <pre>&lt;p>Welcome. &lt;/p>&lt;form>&lt;label>Name:&lt;/label> &lt;input>&lt;/form></pre>

    </div>

   <dt>Errors that would likely result in scripts failing in hard-to-debug ways<dd>

    <p>Some errors are intended to help prevent script problems that would be hard to debug.</p>

    <p class=example>This is why, for instance, it is non-conforming to have two <code id=restrictions-on-content-models-and-on-attribute-values:the-id-attribute><a href=dom.html#the-id-attribute>id</a></code> attributes with the same value. Duplicate IDs lead to the wrong
    element being selected, with sometimes disastrous effects whose cause is hard to determine.</p>

   <dt>Errors that waste authoring time<dd>

    <p>Some constructs are disallowed because historically they have been the cause of a lot of
    wasted authoring time, and by encouraging authors to avoid making them, authors can save time in
    future efforts.</p>

    <p class=example>For example, a <code id=restrictions-on-content-models-and-on-attribute-values:the-script-element><a href=scripting.html#the-script-element>script</a></code> element's <code id=restrictions-on-content-models-and-on-attribute-values:attr-script-src><a href=scripting.html#attr-script-src>src</a></code> attribute causes the element's contents to be ignored.
    However, this isn't obvious, especially if the element's contents appear to be executable script
    — which can lead to authors spending a lot of time trying to debug the inline script
    without realizing that it is not executing. To reduce this problem, this specification makes it
    non-conforming to have executable script in a <code id=restrictions-on-content-models-and-on-attribute-values:the-script-element-2><a href=scripting.html#the-script-element>script</a></code> element when the <code id=restrictions-on-content-models-and-on-attribute-values:attr-script-src-2><a href=scripting.html#attr-script-src>src</a></code> attribute is present. This means that authors who are
    validating their documents are less likely to waste time with this kind of mistake.</p>

   <dt>Errors that involve areas that affect authors migrating between the HTML and XML
   syntaxes<dd>

    <p>Some authors like to write files that can be interpreted as both XML and HTML with similar
    results. Though this practice is discouraged in general due to the myriad of subtle
    complications involved (especially when involving scripting, styling, or any kind of automated
    serialization), this specification has a few restrictions intended to at least somewhat mitigate
    the difficulties. This makes it easier for authors to use this as a transitionary step when
    migrating between the HTML and XML syntaxes.</p>

    <p class=example>For example, there are somewhat complicated rules surrounding the <code id=restrictions-on-content-models-and-on-attribute-values:attr-lang><a href=dom.html#attr-lang>lang</a></code> and <code id=restrictions-on-content-models-and-on-attribute-values:attr-xml-lang><a href=dom.html#attr-xml-lang>xml:lang</a></code> attributes
    intended to keep the two synchronized.</p>

    <p class=example>Another example would be the restrictions on the values of <code>xmlns</code> attributes in the HTML serialization, which are intended to ensure that
    elements in conforming documents end up in the same namespaces whether processed as HTML or
    XML.</p>

   <dt>Errors that involve areas reserved for future expansion<dd>

    <p>As with the restrictions on the syntax intended to allow for new syntax in future revisions
    of the language, some restrictions on the content models of elements and values of attributes
    are intended to allow for future expansion of the HTML vocabulary.</p>

    <p class=example>For example, limiting the values of the <code id=restrictions-on-content-models-and-on-attribute-values:attr-hyperlink-target><a href=semantics.html#attr-hyperlink-target>target</a></code> attribute that start with an U+005F LOW LINE
    character (_) to only specific predefined values allows new predefined values to be introduced
    at a future time without conflicting with author-defined values.</p>

   <dt>Errors that indicate a mis-use of other specifications<dd>

    <p>Certain restrictions are intended to support the restrictions made by other
    specifications.</p>

    <p class=example>For example, requiring that attributes that take media query lists use only
    <em>valid</em> media query lists reinforces the importance of following the conformance rules of
    that specification.</p>

   </dl>



  <h3 id=推荐阅读>1.13 推荐阅读<a href=#推荐阅读 class=self-link></a></h3>

  <p><i>This section is non-normative.</i></p>

  <p>本标准的读者可能对以下文档感兴趣。</p>

  <dl><dt><cite>Character Model for the World Wide Web 1.0: Fundamentals</cite> <a href=references.html#refsCHARMOD>[CHARMOD]</a><dd><blockquote><p>这个架构风格标准定义了 World Wide Web 中可互操作的文本操作。为其他标准的作者、软件开发者，以及内容开发者提供了通用的参考。
   该标准构建在 Universal Character Set 之上，同时定义在 Unicode Standard 和 ISO/IEC 10646。
   涉及的话题包括：字符、编码、字符串、引用处理模型、字符编码的选择和识别、字符转义，以及字符串索引。</blockquote><dt><cite>Unicode 安全考虑</cite> <a href=references.html#refsUTR36>[UTR36]</a><dd><blockquote><p>由于 Unicode 包含大量的字符，引入了世界上不同的书写系统，
   错误的使用会将程序和系统暴露在可能的安全攻击之下。随着越来越多的产品被国际化该问题尤为重要。
   该标准描述了程序员、系统分析师、标准开发者，以及用户应当考虑的安全事项，为减少风险提供了明确的建议。</blockquote><dt><cite>Web Content Accessibility Guidelines (WCAG) 2.0</cite> <a href=references.html#refsWCAG>[WCAG]</a><dd><blockquote><p>Web Content Accessibility Guidelines (WCAG) 2.0 对于提高 Web 内容的可访问性给出了广泛的建议。
   遵循这些指导可以使更多的残障人士（包括失明和弱视、失聪和听觉损耗、学习和认知障碍、行动不便、语言障碍、光过敏等）可访问您的内容。
   遵循这些指导也通常会使您的 Web 内容对普通用户更加可用。</blockquote><dt><cite>Authoring Tool Accessibility Guidelines (ATAG) 2.0</cite> <a href=references.html#refsATAG>[ATAG]</a><dd><blockquote><p>
   该标准为设计 Web 内容写作工具提供了指导意见，使得残障人士也可使用这些工具。
   遵从这些指导的写作工具将会通过为残障作者提供可访问的用户接口以提升可访问性，以及为所有作者提供、支持和提升产出 Web 内容的可访问性。</blockquote><dt><cite>User Agent Accessibility Guidelines (UAAG) 2.0</cite> <a href=references.html#refsUAAG>[UAAG]</a><dd><blockquote><p>该文档为设计降低残障人士 Web 访问门槛的用户代理提供了指导意见。
   用户代理包括浏览器和其他获取和渲染 Web 内容的软件。
   遵循这些指导的用户代理通过它自己的用户接口以及其他内部工具
   （包括与其他技术通信的能力，尤其是辅助性技术）提升可访问性。
   此外，除残障人士之外的所有用户都会发现遵循该标准用户代理更加可用。</blockquote></dl>



  <nav><a href=index.html>Table of Contents</a> — <a href=infrastructure.html>2 通用基础设施 →</a></nav>
